
#include "MDR32F9x.h"
#include "MDR32F9x_config.h"

  //uint32_t SystemCoreClock = (uint32_t)8000000;         /*!< System Clock Frequency (Core Clock)
 //                                                        *   default value */

void SystemInit (void)
{
  MDR_RST_CLK->HS_CONTROL = 0x01; /* ???. HSE ?????????? */
  while (MDR_RST_CLK->CLOCK_STATUS & (1 << 2) == 0x00); /* ???? ???? HSE ?????? ? ??????? ????? */

  MDR_RST_CLK->PLL_CONTROL = ((1 << 2) | (4 << 8)); //???. PLL | ????. ????????? = 5
  while((MDR_RST_CLK->CLOCK_STATUS & 0x02) != 0x02); //???? ????? PLL ?????? ? ???. ?????

  MDR_RST_CLK->CPU_CLOCK = (2 /*???????? ??? CPU_C1*/
  | (1 << 2) /*???????? ??? CPU_C2*/
  | (0 << 4) /*???????????? ??? CPU_C3*/
  | (1 << 8));/*???????? ??? HCLK*/
}
